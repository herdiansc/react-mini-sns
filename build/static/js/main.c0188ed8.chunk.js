(this["webpackJsonpreactjs-mini-sns"]=this["webpackJsonpreactjs-mini-sns"]||[]).push([[0],{31:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),s=a.n(r),c=a(2),l=a(14);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=a(8),i=a(17),u=a(13),d="https://jsonplaceholder.typicode.com",p={users:[],user:{},albums:[],photos:[],posts:[],post:{},comments:[],writeAccessResponseCode:0,isLoading:!1};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return"SET_USERS"===t.type?Object(u.a)({},e,{users:t.payload,isLoading:!1}):"SET_USER_DETAIL"===t.type?Object(u.a)({},e,{user:t.payload,isLoading:!1}):"SET_ALBUMS"===t.type?Object(u.a)({},e,{albums:t.payload,isLoading:!1}):"SET_PHOTOS"===t.type?Object(u.a)({},e,{photos:t.payload,isLoading:!1}):"SET_POSTS"===t.type?Object(u.a)({},e,{posts:t.payload,isLoading:!1}):"SET_POST"===t.type?Object(u.a)({},e,{post:t.payload,isLoading:!1}):"SET_COMMENTS"===t.type?Object(u.a)({},e,{comments:t.payload,isLoading:!1}):"START_FETCHING"===t.type?Object(u.a)({},e,{isLoading:!0}):"SET_WRITE_ACCESS_RESPONSE"===t.type?Object(u.a)({},e,{writeAccessResponseCode:t.payload,isLoading:!1}):e},b=a(29),E=Object(i.c)(h,Object(i.a)(b.a)),f=a(3),N=a(4),v=a(7),y=a(5),g=a(6),S=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.isLoading&&o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"indeterminate"})))}}]),t}(o.a.Component),C=Object(m.b)((function(e){return{isLoading:e.isLoading}}))(S);function T(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/posts/").concat(e,"/comments")).then((function(e){return e.json()})).then((function(e){t({type:"SET_COMMENTS",payload:e})}))}}var w=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"handleCloseNotification",value:function(){this.props.closeNotification()}},{key:"render",value:function(){var e,t,a,n,r=this;return 0!==this.props.writeAccessResponseCode?(201===this.props.writeAccessResponseCode||200===this.props.writeAccessResponseCode?(t="alert-success",a="Success",n=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"The operation is successful. However json placeholder is read only, so all non read only access will be mocked up by json placeholder"),o.a.createElement("p",{className:"mb-0"},"Thus, the bellow actual content may not be updated."))):(t="alert-danger",a="Failed",n=o.a.createElement("p",null,"Server responded with code ",this.props.writeAccessResponseCode)),e=o.a.createElement("div",{className:"fixed-top"},o.a.createElement("div",{className:"container notif-container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"alert ".concat(t),role:"alert"},o.a.createElement("h4",{className:"alert-heading"},a),n,o.a.createElement("hr",null),o.a.createElement("button",{type:"button",className:"btn btn-sm btn-info mt-4","data-dismiss":"alert","aria-label":"Close",onClick:function(){return r.handleCloseNotification()}},"Close"))))))):e="",e}}]),t}(o.a.Component),O=Object(m.b)((function(e){return{writeAccessResponseCode:e.writeAccessResponseCode}}),(function(e){return{closeNotification:function(){return e((function(e){e({type:"SET_WRITE_ACCESS_RESPONSE",payload:0})}))}}}))(w),j=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(C,null),o.a.createElement(O,null),this.props.children)}}]),t}(o.a.Component),k=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"search-form-container"},o.a.createElement("div",{className:"row search-form",style:{display:"block",textAlign:"center"}},o.a.createElement("h1",null,"React Mini SNS"),o.a.createElement("hr",null),o.a.createElement("p",null,"This is a client app to show built-in json placeholder resources.",o.a.createElement("br",null),"Developed using react js and react-redux."),o.a.createElement(c.b,{to:"/user",className:"btn bg-kumparan text-white btn-sm"},"Explore")))}}]),t}(o.a.Component),P=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(y.a)(t).call(this,e))).state={isFormShown:!1},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"breadcrumb",value:function(){return o.a.createElement("nav",{"aria-label":"breadcrumb"},o.a.createElement("ol",{className:"breadcrumb"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/"},"Home")),o.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Users")))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},this.breadcrumb(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"albums mt-4 mb-4 pt-4 pb-4"},o.a.createElement("h3",{className:""},"Users"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"list-group"},this.props.users.map((function(e,t){return o.a.createElement(c.b,{to:"/user/detail/".concat(e.id),key:t,className:"list-group-item list-group-item-action"},o.a.createElement("div",{className:"d-flex w-100 justify-content-between"},o.a.createElement("h5",{className:"mb-1"},e.name),o.a.createElement("span",{className:"text-lowercase"},o.a.createElement("small",null,"@",e.username))),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bolder"},"Address:")," ",e.address.street," ",e.address.suite," ",e.address.city," ",e.address.zipcode),o.a.createElement("small",null,o.a.createElement("span",{className:"font-weight-bolder"},"Phone:")," ",e.phone,", ",o.a.createElement("span",{className:"font-weight-bolder"},"Email:")," ",o.a.createElement("span",{className:"text-lowercase"},e.email)))})))))))))}}]),t}(o.a.Component),_=Object(m.b)((function(e){return{users:e.users}}),(function(e){return{getUsers:function(){return e((function(e){return e({type:"START_FETCHING"}),fetch("".concat(d,"/users")).then((function(e){return e.json()})).then((function(t){e({type:"SET_USERS",payload:t})}))}))}}}))(P),x=a(20),R=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(y.a)(t).call(this,e))).state={isFormShown:!1,isUserFormShown:!1,postBody:"",postTitle:""},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.getUserDetail(e.user_id),this.props.getAlbums(e.user_id),this.props.getPosts(e.user_id)}},{key:"breadcrumb",value:function(){return o.a.createElement("nav",{"aria-label":"breadcrumb"},o.a.createElement("ol",{className:"breadcrumb"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/"},"Home")),o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/user"},"Users")),o.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},this.props.user.name)))}},{key:"formCreatePost",value:function(){var e=this;if(this.state.isFormShown)return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("form",{className:"border mb-4 mt-4 p-4"},o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("textarea",{className:"form-control",placeholder:"Body",name:"postBody",value:this.state.postBody,onChange:function(t){return e.handleInputChange(t)}}))),o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col-sm-8 mb-4"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title",value:this.state.postTitle,name:"postTitle",onChange:function(t){return e.handleInputChange(t)}})),o.a.createElement("div",{className:"col-sm-4 mb-4"},o.a.createElement("div",{className:"btn-group float-right",role:"group"},o.a.createElement("button",{type:"button",className:"btn bg-default border",onClick:function(t){return e.handleShowPostForm(!1,t)}},"Cancel"),o.a.createElement("button",{type:"button",className:"btn text-white bg-kumparan",onClick:function(t){return e.handleSubmitPostForm(t)}},"Submit")))))))}},{key:"handleShowPostForm",value:function(e,t){this.setState({isFormShown:e})}},{key:"handleSubmitPostForm",value:function(e){var t=this;e.preventDefault(),this.props.createPost({body:this.state.postBody,title:this.state.postTitle,userId:this.props.user.id}).then((function(){t.props.getPosts(t.props.user.id)})),this.handleShowPostForm(!1)}},{key:"handleInputChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"showUserText",value:function(){if(!this.state.isUserFormShown)return o.a.createElement("div",{className:"masthead border text-center pt-4 pb-4"},o.a.createElement("div",{className:"container d-flex align-items-center flex-column"},o.a.createElement("img",{className:"masthead-avatar mb-5",src:"/static/images/avataaars.svg",alt:""}),o.a.createElement("h1",{className:"masthead-heading mb-0"},this.props.user.name),o.a.createElement("p",{className:"masthead-subheading font-weight-light mb-0 text-lowercase"},this.props.user.phone," - ",this.props.user.email," - ",this.props.user.website)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},this.breadcrumb(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"post mt-4 mb-4 pt-4 pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("h3",{className:""},"User"))),this.showUserText()),o.a.createElement("div",{className:"albums mt-4 mb-4 pt-4 pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",{className:""},"Post")),o.a.createElement("div",{className:"col"},o.a.createElement("button",{type:"button",className:"btn btn-sm text-white bg-kumparan float-right",onClick:function(t){e.handleShowPostForm(!0,t)}},"Add"))),this.formCreatePost(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("ul",{className:"list-group"},this.props.posts.map((function(e,t){return o.a.createElement("li",{key:t,className:"list-group-item"},o.a.createElement(c.b,{to:"/post/detail/".concat(e.id)},e.title))})))))),o.a.createElement("div",{className:"albums mt-4 mb-4 pt-4 pb-4"},o.a.createElement("h3",{className:""},"Album"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("ul",{className:"list-group"},this.props.albums.map((function(e,t){return o.a.createElement("li",{key:t,className:"list-group-item"},o.a.createElement(c.b,{to:"/album/detail/".concat(e.id)},e.title))})))))))))}}]),t}(o.a.Component),F=Object(m.b)((function(e){return{user:e.user,albums:e.albums,posts:e.posts}}),(function(e){return{getUserDetail:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"SET_USER_DETAIL",payload:e})}))}}(t))},getAlbums:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/users/").concat(e,"/albums")).then((function(e){return e.json()})).then((function(e){t({type:"SET_ALBUMS",payload:e})}))}}(t))},getPosts:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/users/").concat(e,"/posts")).then((function(e){return e.json()})).then((function(e){t({type:"SET_POSTS",payload:e})}))}}(t))},createPost:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/posts"),{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))}}}))(R),I=a(21),A=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(y.a)(t).call(this,e))).state={photo:{}},a.handleShowModal=a.handleShowModal.bind(Object(I.a)(a)),a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.getAlbumPhotos(e.album_id)}},{key:"handleShowModal",value:function(e,t){t.preventDefault(),this.setState({photo:e})}},{key:"breadcrumb",value:function(){var e;return Object.keys(this.props.user).length>0&&(e=o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/user/detail/".concat(this.props.user.id)},this.props.user.name))),o.a.createElement("nav",{"aria-label":"breadcrumb"},o.a.createElement("ol",{className:"breadcrumb"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/"},"Home")),o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/user"},"Users")),e,o.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Photos")))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},this.breadcrumb(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 py-5 mb-4"},o.a.createElement("h3",{className:""},"Photos"))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.props.photos.map((function(t,a){return o.a.createElement("div",{key:a,className:"col-xl-3 col-md-6 mb-4"},o.a.createElement("div",{className:"card border-0 shadow"},o.a.createElement(c.b,{to:"",className:"photo","data-toggle":"modal","data-target":"#exampleModal",onClick:function(a){return e.handleShowModal(t,a)}},o.a.createElement("input",{className:"photo-url",value:t.url,type:"hidden"}),o.a.createElement("img",{src:t.thumbnailUrl,className:"card-img-top",alt:"..."}))))})))),o.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("img",{src:this.state.photo.url,className:"card-img-top",alt:"..."}),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row pt-4 pb-4"},o.a.createElement("div",{className:"col-md-12"},this.state.photo.title)),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},"Close")))))))}}]),t}(o.a.Component),U=Object(m.b)((function(e){return{photos:e.photos,user:e.user}}),(function(e){return{getAlbumPhotos:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/photos?albumId=").concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"SET_PHOTOS",payload:e})}))}}(t))}}}))(A),M=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(y.a)(t).call(this,e))).state={isFormShown:!1},a.commentName=o.a.createRef(),a.commentBody=o.a.createRef(),a.commentEmail=o.a.createRef(),a.modalCommentId=o.a.createRef(),a.modalCommentName=o.a.createRef(),a.modalCommentBody=o.a.createRef(),a.modalCommentEmail=o.a.createRef(),a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"handleShowForm",value:function(e){this.setState({isFormShown:e})}},{key:"handleSubmitForm",value:function(){var e=this;this.props.createComment({name:this.commentName.current.value,body:this.commentBody.current.value,email:this.commentEmail.current.value,postId:this.props.post.id}).then((function(){e.props.getPostComments(e.props.post.id)})),this.handleShowForm(!1)}},{key:"handleShowModalEditComment",value:function(e){this.modalCommentId.current.value=e.id,this.modalCommentName.current.value=e.name,this.modalCommentBody.current.value=e.body,this.modalCommentEmail.current.value=e.email}},{key:"handleSubmitEditForm",value:function(){var e=this;this.props.editComment({id:this.modalCommentId.current.value,data:{postId:this.props.post.id,name:this.modalCommentName.current.value,body:this.modalCommentBody.current.value,email:this.modalCommentEmail.current.value}}).then((function(){e.props.getPostComments(e.props.post.id)}))}},{key:"handleDeleteComment",value:function(e){var t=this;this.props.deleteComment(e).then((function(){t.props.getPostComments(t.props.post.id)}))}},{key:"formComment",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("form",{className:"border mb-4 mt-4 p-4"},o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",ref:this.commentName}))),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("textarea",{className:"form-control",placeholder:"Body",ref:this.commentBody}))),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Email",ref:this.commentEmail}))),o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"btn-group float-right",role:"group"},o.a.createElement("button",{type:"button",className:"btn bg-default border",onClick:function(){return e.handleShowForm(!1)}},"Cancel"),o.a.createElement("button",{type:"button",className:"btn text-white bg-kumparan",onClick:function(t){return e.handleSubmitForm(t)}},"Submit")))))))}},{key:"modalFormEditComment",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("form",{className:"p-4"},o.a.createElement("input",{type:"hidden",ref:this.modalCommentPostId}),o.a.createElement("input",{type:"hidden",ref:this.modalCommentId}),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("label",null,"Name"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",ref:this.modalCommentName}))),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("label",null,"Body"),o.a.createElement("textarea",{className:"form-control",placeholder:"Body",ref:this.modalCommentBody}))),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("label",null,"Email"),o.a.createElement("input",{type:"text",className:"form-control text-lowercase",placeholder:"Email",ref:this.modalCommentEmail})))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn bg-default border","data-dismiss":"modal"},"Cancel"),o.a.createElement("button",{type:"button",className:"btn text-white bg-kumparan","data-dismiss":"modal",onClick:function(t){return e.handleSubmitEditForm(t)}},"Submit")))))}},{key:"render",value:function(){var e=this,t=this.state.isFormShown?this.formComment():"";return o.a.createElement("div",{className:"albums mt-4 mb-4 pt-4 pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",{className:""},"Comments")),o.a.createElement("div",{className:"col"},o.a.createElement("button",{type:"button",className:"btn btn-sm text-white bg-kumparan float-right",onClick:function(){e.handleShowForm(!0)}},"Add"))),t,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"list-group"},this.props.comments.map((function(t,a){return o.a.createElement("div",{key:a,className:"list-group-item list-group-item-action"},o.a.createElement("div",{className:"d-flex w-100 justify-content-between"},o.a.createElement("h5",{className:"mb-1"},o.a.createElement("span",{className:"comment-name"},t.name)),o.a.createElement("span",{className:"text-lowercase"},o.a.createElement("small",null,t.email.toLowerCase()))),o.a.createElement("p",{className:"mb-1"},t.body),o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement("button",{type:"button",className:"comment-action-btn btn btn-sm text-white bg-kumparan","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return e.handleShowModalEditComment(t)}},"Edit"),o.a.createElement("button",{type:"button",className:"comment-action-btn btn btn-sm btn-danger",onClick:function(){return e.handleDeleteComment(t.id)}},"Delete")))}))))),this.modalFormEditComment())}}]),t}(o.a.Component),B=Object(m.b)((function(e){return{comments:e.comments,post:e.post}}),(function(e){return{getPostComments:function(t){return e(T(t))},editComment:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/comments/").concat(e.id),{method:"PUT",body:JSON.stringify(e.data),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))},createComment:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/comments"),{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))},deleteComment:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/comments/").concat(e),{method:"DELETE"}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))}}}))(M),L=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(y.a)(t).call(this,e))).state={isCommentFormShown:!1},a.postBody=o.a.createRef(),a.postTitle=o.a.createRef(),a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.loadPost(e.post_id),this.props.getPostComments(e.post_id)}},{key:"loadPost",value:function(e){var t=this;this.props.getPostDetail(e).then((function(){t.postBody.current.value=t.props.post.body,t.postTitle.current.value=t.props.post.title}))}},{key:"breadcrumb",value:function(){var e=this.props.user.name||"User Detail";return o.a.createElement("nav",{"aria-label":"breadcrumb"},o.a.createElement("ol",{className:"breadcrumb"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/"},"Home")),o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/user"},"Users")),o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(c.b,{to:"/user/detail/".concat(this.props.post.userId)},e)),o.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Post")))}},{key:"handleSubmitEditPostForm",value:function(e){var t=this;this.props.editPost({postId:this.props.post.id,data:{body:this.postBody.current.value,title:this.postTitle.current.value,userId:this.props.post.userId}}).then((function(){t.loadPost(t.props.post.id)}))}},{key:"modalFormEditPost",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",id:"editPostModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("form",{className:"p-4"},o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title",ref:this.postTitle}))),o.a.createElement("div",{className:"form-row mb-4"},o.a.createElement("div",{className:"col"},o.a.createElement("label",null,"Body"),o.a.createElement("textarea",{className:"form-control",placeholder:"Body",ref:this.postBody})))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn bg-default border","data-dismiss":"modal"},"Cancel"),o.a.createElement("button",{type:"button",className:"btn text-white bg-kumparan","data-dismiss":"modal",onClick:function(t){return e.handleSubmitEditPostForm(t)}},"Submit")))))}},{key:"showPostText",value:function(){return o.a.createElement("div",{className:"masthead border pt-4 pb-4"},o.a.createElement("div",{className:"container d-flex flex-column"},o.a.createElement("h1",{className:"mb-0"},this.props.post.title),o.a.createElement("div",{className:"divider-custom divider-light"},o.a.createElement("div",{className:"divider-custom-line"})),o.a.createElement("p",{className:"masthead-subheading font-weight-light mb-0"},this.props.post.body)))}},{key:"handleDeletPost",value:function(){var e=this;this.props.deletePost(this.props.post.id).then((function(){e.props.history.push("/user/detail/"+e.props.post.userId)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},this.breadcrumb(),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"post mt-4 mb-4 pt-4 pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",{className:""},"Post")),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"btn-group float-right",role:"group"},o.a.createElement("button",{type:"button",className:"comment-action-btn btn btn-sm text-white bg-kumparan","data-toggle":"modal","data-target":"#editPostModal"},"Edit"),o.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(){return e.handleDeletPost()}},"Delete")))),o.a.createElement(O,null),this.showPostText()),o.a.createElement(B,null))),this.modalFormEditPost())}}]),t}(o.a.Component),D=Object(m.b)((function(e){return{post:e.post,comments:e.comments,user:e.user}}),(function(e){return{getPostDetail:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/posts/").concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"SET_POST",payload:e})}))}}(t))},editPost:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/posts/").concat(e.postId),{method:"PUT",body:JSON.stringify(e.data),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))},deletePost:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(d,"/posts/").concat(e),{method:"DELETE"}).then((function(e){t({type:"SET_WRITE_ACCESS_RESPONSE",payload:e.status})}))}}(t))},getPostComments:function(t){return e(T(t))}}}))(L);s.a.render(o.a.createElement(m.a,{store:E},o.a.createElement(c.a,{basename:"/build"},o.a.createElement(l.a,{component:j}),o.a.createElement(l.a,{path:"/",exact:!0,component:k}),o.a.createElement(l.a,{path:"/user",exact:!0,component:_}),o.a.createElement(l.a,{path:"/user/detail/:user_id",component:F}),o.a.createElement(l.a,{path:"/album/detail/:album_id",component:U}),o.a.createElement(l.a,{path:"/post/detail/:post_id",component:D}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.c0188ed8.chunk.js.map